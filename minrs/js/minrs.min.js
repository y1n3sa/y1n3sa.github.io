/*! minrs 2016-11-26 */
var MINRS={};!function(){document.registerElement&&(MINRS.minrsElement=document.registerElement("min-rs"))}(),MINRS.Listener=function(){window.onload=function(){for(var a=document.getElementsByTagName("min-rs"),b=0;b<a.length;b++){var c=a.item(b),d=JSON.parse(c.getAttribute("options"));new MINRS.Slider(c,d)}}}(),MINRS.Slider=function(){var a={LEFT:"left",MID:"middle",RIGHT:"right",CONT:"range-slider-container",DUAL:"dual",CONTR:"controller",CONTR_IN:"inner",CONTR_L:-16,RULER:"range-slider-ruler",RULER_LC:5},b={dual:!1,end:400,start:0,min:0,max:0,ruler:!1},c="{0} 1 auto",d=[{attr:"flex",pattern:c},{attr:"-webkit-flex",pattern:c},{attr:"-ms-flex",pattern:c}],e=function(a){if(a){var c={};return Object.getOwnPropertyNames(b).forEach(function(d){c[d]="undefined"==typeof a[d]?b[d]:a[d]}),c.min<c.start&&(c.min=c.start),c.max<c.start&&(c.max=c.start),c}return b},f=function(a,b,c,d,e,f){var g=[];return f?(g.push((c-a)*e),f&&g.push((d-c)*e),g.push((b-d)*e)):(g.push((d-c)*e),g.push((b-d)*e)),g},g=function(a,b,c,d){return(d-c)/(b-a)},h=function(b){var c=document.createElement("div");return c.className+=a.LEFT,b&&(c.className+=" "+a.DUAL),c},i=function(){var b=document.createElement("div");return b.className+=a.MID,b},j=function(b){var c=document.createElement("div");return c.className+=a.RIGHT,b&&(c.className+=" "+a.DUAL),c},k=function(a){var b=[];return b.push(h(a)),a&&b.push(i()),b.push(j(a)),b},l=function(){var b=document.createElement("div");b.className+=a.CONTR;var c=document.createElement("div");return c.className+=a.CONTR_IN,b.appendChild(c),b},m=function(){for(var a=Array.prototype.slice.call(arguments),b=a[0],c=1;c<a.length;c++)b=b.replace(new RegExp("\\{"+(c-1)+"\\}"),a[c]);return b},n=function(b,c){for(var d=(c-b)/4,e=document.createElement("ul"),f=0;f<a.RULER_LC;f++){var g=0==f?b:f==a.RULER_LC-1?c:parseInt(f*d)+b,h=document.createElement("li"),i=document.createElement("span");i.innerHTML=g,h.appendChild(i),e.appendChild(h)}return e.className+=a.RULER,e},o=function(a){var b=a.childNodes;b.forEach||(b=Array.prototype.slice.call(a.childNodes)),b.forEach(function(a){var b=a.childNodes[0],c=b.offsetWidth/2;b.style.marginLeft=-1*c+"px"})};return function(b,c){var h=this;c=e(c),this.getEndValue=function(){return c.end},this.getStartValue=function(){return c.start};var i=function(a){return"undefined"==typeof a?c.min:(a<c.start&&(a=c.start),a<=s&&a>=c.start&&(r=a),r>s&&(r=s),r)},j=function(a){return"undefined"==typeof a?c.max:(a>c.end&&(a=c.end),a<=c.end&&a>=r&&(s=a),s>c.end&&(s=c.end),s)},p=0,q=100,r=c.start,s=c.start;r=i(),s=j();var t=g(c.start,c.end,p,q);this.element=document.getElementById(b)||b,this.element.className+=a.CONT;for(var u=k(c.dual),v=0;v<u.length;v++)this.element.appendChild(u[v]);if(c.ruler){var w=n(c.start,c.end);this.element.parentElement.insertBefore(w,null),o(w)}var x=!1,y=function(b,c){b.onmousedown=function(b){!b&&(b=window.event);var d=b.target?b.target:b.srcElement;return d.className==a.CONTR?(x=!0,z(d,c)):d.className==a.CONTR_IN&&(x=!0,z(d.parentElement,c)),!1}.bind(this)}.bind(this);c.dual&&(this.minController=l(),this.minController.left=a.CONTR_L,this.element.appendChild(this.minController),y(this.minController,!0)),this.maxController=l(),this.maxController.left=a.CONTR_L,this.element.appendChild(this.maxController),y(this.maxController),this.element.onmouseup=function(a){this.maxController.onmousemove=null,this.minController&&(this.minController.onmousemove=null),x=!1}.bind(this);var z=function(b,c){b.onmousemove||(b.onmousemove=function(d){x&&(!d&&(d=window.event),d.clientX>=this.left&&d.clientX<=this.right&&(b.left=d.clientX-this.left+a.CONTR_L,b.style.left=b.left+"px",E(b.left-a.CONTR_L,c)))}.bind(this))}.bind(this),A=function(a,b){d.forEach(function(c){a.style[c.attr]=m(c.pattern,b)})},B=function(){for(var a=f(c.start,c.end,r,s,t,c.dual),b=0;b<u.length;b++)A(u[b],a[b])},C=function(){h.maxController&&(h.maxController.left=(s-c.start)/(c.end-c.start)*h.element.offsetWidth+a.CONTR_L,h.maxController.style.left=h.maxController.left+"px")},D=function(){h.minController&&(h.minController.left=(r-c.start)/(c.end-c.start)*h.element.offsetWidth+a.CONTR_L,h.minController.style.left=h.minController.left+"px")},E=function(a,b){var d=(c.end-c.start)/(h.right-h.left);b?F(d*a+c.start,!0):G(d*a+c.start,!0)},F=function(a,b){a=parseInt(a),r=i(a),B(),!b&&c.dual&&D()},G=function(a,b){a=parseInt(a),s=j(a),B(),b||C()};window.addEventListener("resize",function(){C(),D()}),this.updateMin=function(a){F(a)},this.updateMax=function(a){G(a)},this.getMin=function(){return r},this.getMax=function(){return s},this.left=this.element.offsetLeft,this.right=this.element.clientWidth+this.left,c.dual&&G(c.max,!1),F(c.min,!1)}}();